@import 'tailwindcss';

@plugin 'tailwindcss-animate';

@custom-variant dark (&:is(.dark *));

@theme {
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-sidebar: hsl(var(--sidebar-background));
  --color-sidebar-foreground: hsl(var(--sidebar-foreground));
  --color-sidebar-primary: hsl(var(--sidebar-primary));
  --color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));
  --color-sidebar-accent: hsl(var(--sidebar-accent));
  --color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));
  --color-sidebar-border: hsl(var(--sidebar-border));
  --color-sidebar-ring: hsl(var(--sidebar-ring));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
}

@utility container {
  margin-inline: auto;
  padding-inline: 2rem;
  @media (width >= --theme(--breakpoint-sm)) {
    max-width: none;
  }
  @media (width >= 1400px) {
    max-width: 1400px;
  }
}

@utility research-card {
  /* Enhanced Research Platform Components */
  background: var(--gradient-card);
  /* Use valid Tailwind v4 arbitrary values for custom shadows and a standard border color token */
  @apply border border-border rounded-xl shadow-[var(--shadow-medium)] hover:shadow-[var(--shadow-large)] transition-all duration-300 hover:scale-[1.02] backdrop-blur-sm;
}

@utility research-card-hover {
  @apply hover:bg-accent/5 hover:border-accent/20;
}

@utility research-badge {
  @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
}

@utility research-badge-success {
  @apply bg-[hsl(var(--success)/0.1)] text-[hsl(var(--success))] border border-[hsl(var(--success)/0.2)];
}

@utility research-badge-warning {
  @apply bg-[hsl(var(--warning)/0.1)] text-[hsl(var(--warning))] border border-[hsl(var(--warning)/0.2)];
}

@utility research-badge-info {
  @apply bg-[hsl(var(--info)/0.1)] text-[hsl(var(--info))] border border-[hsl(var(--info)/0.2)];
}

@utility research-badge-muted {
  @apply bg-muted text-muted-foreground border border-border;
}

@utility research-section {
  @apply research-card p-6 space-y-4;
}

@utility research-tab-active {
  /* shadow-xs isn't available in core; use shadow-sm for subtle elevation */
  @apply bg-primary text-primary-foreground shadow-sm;
}

@utility research-tab-inactive {
  @apply bg-transparent text-muted-foreground hover:text-foreground hover:bg-accent/50;
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Research Platform Color Scheme */
    --background: 0 0% 99.5%;
    --foreground: 210 12% 16%;

    --card: 0 0% 100%;
    --card-foreground: 210 12% 16%;

    --popover: 0 0% 100%;
    --popover-foreground: 210 12% 16%;

    --primary: 197 87% 35%;
    --primary-foreground: 0 0% 100%;

    --secondary: 210 11% 71%;
    --secondary-foreground: 210 12% 16%;

    --muted: 210 25% 97%;
    --muted-foreground: 210 11% 71%;

    --accent: 197 60% 90%;
    --accent-foreground: 197 87% 20%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;

    --border: 210 25% 92%;
    --input: 210 25% 92%;
    --ring: 197 87% 35%;

    --radius: 0.75rem;

    /* Research Platform Custom Variables */
    --gradient-start: 197 100% 98%;
    --gradient-end: 197 50% 95%;
    --success: 142 76% 36%;
    --success-foreground: 0 0% 98%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 98%;
    --info: 197 87% 35%;
    --info-foreground: 0 0% 98%;
    
    /* Enhanced Shadows & Depth */
    --shadow-soft: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-medium: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-large: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-elevated: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 10px 10px -5px rgb(0 0 0 / 0.04);
    --shadow-glow: 0 0 20px -5px hsl(var(--primary) / 0.1);
    --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);
    
    /* Dynamic Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(var(--primary) / 0.05), hsl(var(--primary) / 0.02));
    --gradient-card: linear-gradient(145deg, hsl(var(--card)), hsl(var(--muted) / 0.3));
    --gradient-hover: linear-gradient(145deg, hsl(var(--accent) / 0.1), hsl(var(--primary) / 0.05));
    --gradient-border: linear-gradient(145deg, hsl(var(--border)), hsl(var(--primary) / 0.1));
    
    /* Glass Effects */
    --glass-bg: rgba(255, 255, 255, 0.05);
    --glass-border: rgba(255, 255, 255, 0.1);
    --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
    
    /* Animations */
    --animate-float: float 6s ease-in-out infinite;
    --animate-pulse-glow: pulse-glow 2s ease-in-out infinite alternate;
    --animate-slide-in: slide-in 0.5s cubic-bezier(0.4, 0, 0.2, 1);

    --sidebar-background: 0 0% 98%;

    --sidebar-foreground: 240 5.3% 26.1%;

    --sidebar-primary: 240 5.9% 10%;

    --sidebar-primary-foreground: 0 0% 98%;

    --sidebar-accent: 240 4.8% 95.9%;

    --sidebar-accent-foreground: 240 5.9% 10%;

    --sidebar-border: 220 13% 91%;

    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    /* Dark mode - sleek and modern with better contrast */
    --background: 222 47% 11%;
    --foreground: 210 40% 98%;

    --card: 222 47% 14%;
    --card-foreground: 210 40% 98%;

    --popover: 222 47% 14%;
    --popover-foreground: 210 40% 98%;

    --primary: 197 87% 45%;
    --primary-foreground: 0 0% 100%;

    --secondary: 217 33% 20%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217 33% 17%;
    --muted-foreground: 215 20% 70%;

    --accent: 197 60% 25%;
    --accent-foreground: 197 87% 85%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;

    --border: 217 33% 20%;
    --input: 217 33% 20%;
    --ring: 197 87% 45%;
    
    /* Dark Mode Custom Variables */
    --gradient-start: 222 47% 13%;
    --gradient-end: 222 47% 9%;
    --success: 142 76% 45%;
    --success-foreground: 0 0% 98%;
    --warning: 38 92% 60%;
    --warning-foreground: 0 0% 98%;
    --info: 197 87% 45%;
    --info-foreground: 0 0% 98%;
    
    /* Enhanced Shadows for Dark Mode */
    --shadow-soft: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.3);
    --shadow-medium: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
    --shadow-large: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.3);
    --shadow-elevated: 0 20px 25px -5px rgb(0 0 0 / 0.5), 0 10px 10px -5px rgb(0 0 0 / 0.2);
    --shadow-glow: 0 0 20px -5px hsl(var(--primary) / 0.3);
    --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.15);
    
    /* Dynamic Gradients for Dark Mode */
    --gradient-primary: linear-gradient(135deg, hsl(var(--primary) / 0.1), hsl(var(--primary) / 0.05));
    --gradient-card: linear-gradient(145deg, hsl(var(--card)), hsl(var(--muted) / 0.5));
    --gradient-hover: linear-gradient(145deg, hsl(var(--accent) / 0.2), hsl(var(--primary) / 0.1));
    --gradient-border: linear-gradient(145deg, hsl(var(--border)), hsl(var(--primary) / 0.2));
    
    /* Glass Effects for Dark Mode */
    --glass-bg: rgba(255, 255, 255, 0.02);
    --glass-border: rgba(255, 255, 255, 0.05);
    --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
    
    --sidebar-background: 222 47% 9%;
    --sidebar-foreground: 240 5% 96%;
    --sidebar-primary: 197 87% 45%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 217 33% 17%;
    --sidebar-accent-foreground: 240 5% 96%;
    --sidebar-border: 217 33% 17%;
    --sidebar-ring: 197 87% 45%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
  /* Tailwind v4 uses bg-gradient-to-*, not bg-linear-to-* */
  @apply bg-gradient-to-br from-[hsl(var(--gradient-start))] to-[hsl(var(--gradient-end))] text-foreground min-h-screen;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  
  /* Custom scrollbar styling */
  body::-webkit-scrollbar {
    width: 12px;
  }
  body::-webkit-scrollbar-track {
    @apply bg-muted;
  }
  body::-webkit-scrollbar-thumb {
    @apply bg-primary rounded-[20px] border-[3px] border-muted;
  }
  body::-webkit-scrollbar-thumb:hover {
    @apply bg-primary/80;
  }
}

/* Status Badge Utilities - Shared across multiple components */
@layer components {
  .status {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-[0.8em] font-medium ml-2.5 border border-transparent whitespace-nowrap overflow-hidden align-middle;
  }

  .status-symbol {
    @apply text-[0.9em] flex-shrink-0;
  }

  .status-text {
    @apply overflow-hidden text-ellipsis;
  }

  /* Status color variants - Light mode */
  .status-default,
  .status-needs-code,
  .status-unknown {
    @apply bg-[#f8f9fa] text-[#6c757d] border-[#dee2e6];
  }

  .status-not-started {
    @apply bg-[#e9ecef] text-[#495057] border-[#ced4da];
  }

  .status-started {
    @apply bg-[#d1ecf1] text-[#0c5460] border-[#bee5eb];
  }

  .status-waiting-author {
    @apply bg-[#fff3cd] text-[#856404] border-[#ffeeba];
  }

  .status-in-progress {
    @apply bg-[#e7f3ff] text-[#0056b3] border-[#b8daff];
  }

  .status-completed {
    @apply bg-[#e6f9f0] text-[#198754] border-[#a3e9c1];
  }

  .status-non-implementable {
    @apply bg-[#fff5f5] text-[#c82333] border-[#f5c6cb] font-semibold;
  }

  .status-official-code {
    @apply bg-[#c8e6c9] text-[#2e7d32];
  }

  .status-not-started-disputed {
    @apply bg-[#fff59d] text-[#f57f17] border-[#f57f17];
  }

  /* Status color variants - Dark mode */
  .dark .status-default,
  .dark .status-needs-code,
  .dark .status-unknown {
    @apply bg-[#2a2e35] text-[#9ca3af] border-[#374151];
  }

  .dark .status-not-started {
    @apply bg-[#2d3139] text-[#d1d5db] border-[#4b5563];
  }

  .dark .status-started {
    @apply bg-[#1e3a47] text-[#67e8f9] border-[#164e63];
  }

  .dark .status-waiting-author {
    @apply bg-[#463418] text-[#fbbf24] border-[#78350f];
  }

  .dark .status-in-progress {
    @apply bg-[#1e3a8a] text-[#93c5fd] border-[#1e40af];
  }

  .dark .status-completed {
    @apply bg-[#14532d] text-[#86efac] border-[#166534];
  }

  .dark .status-non-implementable {
    @apply bg-[#450a0a] text-[#fca5a5] border-[#7f1d1d] font-semibold;
  }

  .dark .status-official-code {
    @apply bg-[#14532d] text-[#4ade80];
  }

  .dark .status-not-started-disputed {
    @apply bg-[#713f12] text-[#fbbf24] border-[#a16207];
  }
}
/* CSS Variables from App.css */
:root {
  /* Primary Palette */
  --primary-color: #197c9a;
  --primary-dark-color: #0f4c6e;
  --primary-accent-color: #3ab0ff;
  --primary-hover-color: #13687E;
  --primary-light-color: #e8f7fa;
  --primary-rgb: 25, 124, 154;

  /* Secondary Palette */
  --secondary-dark-color: #5a6268;
  --secondary-color: #6c757d;
  --secondary-light-color: #e9ecef;
  --secondary-accent-color: #adb5bd;
  --secondary-rgb: 108, 117, 125;
  --secondary-accent-rgb: 173, 181, 189;
  
  /* Gradient Colors */
  --gradient-start: #f9fdfe;
  --gradient-middle: #f5fbfd;
  --gradient-end: #f0f9fa;
  --gradient-accent: rgba(var(--primary-rgb), 0.03);

  /* Neutrals */
  --background-color: #fdfdfe;
  --card-background-color: #ffffff;
  --header-footer-bg: #ffffff;
  --border-color: #e9ecef;
  --border-color-light: #f8f9fa;
  --light-gray-bg: #f1f3f5;
  --dark-color: #343a40;
  
  /* Text Colors */
  --text-color: #212529;
  --text-muted-color: #6c757d;
  --text-heading-color: #1a3a3a;
  --text-on-primary: #ffffff;
  --text-on-dark: #ffffff;
  --text-on-secondary: #ffffff;

  /* Status Colors */
  --success-color: #28a745;
  --success-light-color: #eafaf1;
  --success-dark-color: #1f7a3b;
  --warning-color: #ffc107;
  --warning-light-color: #fffbeb;
  --warning-text-color: #5d4a00;
  --warning-dark-color: #b78100;
  --info-color: #17a2b8;
  --info-light-color: #e7f6f8;
  --info-text-color: #0c5460;
  --info-dark-color: #117a8b;
  --danger-color: #dc3545;
  --danger-light-color: #f8d7da;
  --danger-text-color: #721c24;
  --danger-dark-color: #c62828;
  --skipped-color: #adb5bd;
  --skipped-light-color: #f8f9fa;

  /* Additional Colors */
  --card-alt-background-color: #fafbfc;
  --background-alt-color: #f8f9fa;
  --background-hover-light: rgba(var(--primary-rgb), 0.05);
  --primary-background-medium: #d1eaff;
  --button-secondary-bg: #f8f9fa;
  --button-secondary-text: var(--text-color);
  --button-secondary-hover-bg: #e9ecef;
  --grey-color: #ccc;
  --grey-light-color: #f0f0f0;
  --grey-dark-color: #555;

  /* Shadows & Radii */
  --box-shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
  --box-shadow-md: 0 5px 10px rgba(0,0,0,0.07);
  --border-radius-sm: 4px;
  --border-radius-md: 8px;
  --border-radius-lg: 12px;

  --content-max-width: 1400px;
  --accent-color: #3ab0ff;
}

/* Gradient animation */
@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Accordion animations for Radix UI */
@keyframes accordion-down {
  from {
    height: 0;
  }
  to {
    height: var(--radix-accordion-content-height);
  }
}

@keyframes accordion-up {
  from {
    height: var(--radix-accordion-content-height);
  }
  to {
    height: 0;
  }
}

/* Custom animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-5px); }
}

@keyframes pulse-glow {
  0% { box-shadow: 0 0 5px hsl(var(--primary) / 0.2); }
  100% { box-shadow: 0 0 20px hsl(var(--primary) / 0.4), 0 0 30px hsl(var(--primary) / 0.1); }
}

@keyframes slide-in {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}